## 6장. 응용 서비스와 표현 영역
<br>

### 6.1
도메인 영역을 잘 구현하는 것은 사용자의 요구를 충족하는, 제대로 된 소프트웨어를 만드는 데에 기본이 된다. <br>
하지만 도메인 영역만 잘 만든다고 끝나는 것은 아니다. <br>
도메인이 제 기능을 하려면 사용자와 도메인을 연결해주는 매개체가 필요한데, 이러한 매개체 역할을 하는 것이 응용 영역과 표현 영역이다. <br>
- 표현 영역(컨트롤러): 사용자의 요청을 해석
- 응용 영역(서비스): 실제 사용자가 원하는 기능을 서비스로써 제공

![img_3.png](img_3.png) <br>
1. 사용자는 웹브라우저에서 폼에 ID, 비밀번호를 입력한 후 submit 버튼을 클릭한다.
2. 표현영역은 URl,요청 파라미터 등을 이용해서 사용자가 실행하고 싶은 기능은 판별하고 해당 서비스를 실행한다. <br>
표현영역에선 응용 서비스의 메서드가 요구하는 파라미터와 표현 영역이 사용자로부터 전달받은 데이터의 형식을 맞춘다. 
3. 사용자가 실행하고 싶은 기능은 응용 영역에 정의되어 있다. <br>
응용 서비스는 기능을 실행하는 데 필요한 입력 값을 메서드 인자로 받고 실행 결과를 리턴한다. <br>

<br>
<br>

### 6.2 응용 서비스의 역할
### 응용 서비스는 단순한 형태를 갖는다. 
응용 영역의 서비스는 주로 도메인 객체 간의 흐름을 제어하는 형태로, 단순한 형태를 갖는다.
```java
public Result doSomeFunc(SomeReq req) {
        // 1. 리포지토리에서 애그리거트 가져오기
        SomeAgg agg = someAggRepository.findById(req.getId());
        checkNull(agg);

        // 2. 애그리거트의 도메인 기능 호출
        agg.doFunc(req.getValue());

        // 3. 결과 리턴
        return createSuccessResult(agg);
        }
```
```java
public Result doSomeCreation(CreateSomeReq req) {
        // 1. 데이터 중복 등 유효성 검사
        validate(req);

        // 2. 애그리거트 생성
        SomeAgg newAgg = createSome(req);

        // 3. 리포지토리에서 애그리거트 저장
        someAggRepository.save(someAgg);

        // 4. 결과 리턴
        return createSuccessResult(newAgg);
        }  
```
<br>

### 응용 서비스는 트랜잭션 처리를 담당한다.
데이터의 일관성을 보장하기 위해 응용 서비스는 트랜잭션 범위에서 실행해야 한다. <br>
<br>

### 응용 서비스는 접근 제어를 담당한다.
<br>

### 응용 서비스는 이벤트 처리를 담당한다.
<br>

### 응용 서비스에는 도메인 로직을 구현하지 않아야 한다. 
도메인 로직은 도메인 영역에 위치하므로, 응용 서비스는 도메인 로직을 구현하지 않아야 한다. <br>
도메인 로직이 도메인 영역과 응용 서비스에 분산되면 다음과 같은 문제가 발생한다.
- 코드의 응집성이 떨어진다.
- 여러 응용 서비스에서 동일한 도메인 로직을 구현할 가능성이 높아진다.

<br>
<br>

### 6.3
### 6.4
### 6.5
### 6.6
### 6.7